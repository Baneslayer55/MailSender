### MailSender

#### Как это работает?
Класс **MailsController** содержит в себе два метода, обрабатывающих http запросы. 

Метод **SendMails** принимает **POST** запрос по адресу **url/api/mails/**, с телом в формате **JSON** вида:
```json
{
	"subject": "Subject text",
	"body": "Body text",
	"recipients": ["example@provider.domain", "example2@provider.domain"]
} 
```
В случае валидной структуры тела происходит десериализация в сущность Mail,  запись в базу данных всех полей тела, информации об ошибках и статуса отправления. 

Метод **GetMailHistory** принимает **GET** запрос по адресу **url/api/mails/** и возвращает историю всех полученных **POST** запросов с валидным **JSON** телом.


#### Комментарии к проекту:
1. Настройки почтового ящика взяты на бесплатном ресурсе [ethereal.email](http://ethereal.email "ethereal.email")(предоставляет аккаунт для тестирования авторассылки сообщений). В связи с этим файл конфигурации **mailconfig.json**, приложенный к проекту оставляю заполненым. 
2. Библиотека **MailKit** не очень хорошо справляется с валидацей почтовых адресов. В связи с этим в статический метод **Send** класса MailService содержит дополнительную проверку на валидность почтового адреса.
3. Поле **IsSended** сущности **Mail** принимает значение *true* в случае, если хотя бы один почтовый адрес прошел валидацию и метод **Send** смог отправить ему сообщение. Список невалидных почтовых адресов находится в поле **ErrorMessage** сущности **Mail**.



